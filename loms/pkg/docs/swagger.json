{"consumes":["application/json"],"definitions":{"OrderCreateRequestItem":{"properties":{"count":{"description":"Количество единиц товара.","example":1,"format":"uint64","type":"string"},"sku":{"description":"Идентификатор товара.","example":2958025,"format":"int64","type":"string"}},"type":"object"},"protobufAny":{"additionalProperties":{},"properties":{"@type":{"type":"string"}},"type":"object"},"rpcStatus":{"properties":{"code":{"format":"int32","type":"integer"},"details":{"items":{"$ref":"#/definitions/protobufAny","type":"object"},"type":"array"},"message":{"type":"string"}},"type":"object"},"v1Order":{"properties":{"id":{"description":"Идентификатор заказа.","format":"int64","type":"string"},"items":{"items":{"$ref":"#/definitions/v1OrderItem","type":"object"},"type":"array"},"status":{"description":"Статус заказа: new | awaiting payment | failed | payed | cancelled.","type":"string"},"user":{"description":"Идентификатор пользователя которому принадлежит заказ.","format":"int64","type":"string"}},"type":"object"},"v1OrderCancelRequest":{"properties":{"order_id":{"description":"Идентификатор заказа.","example":5,"format":"int64","type":"string"}},"type":"object"},"v1OrderCreateRequest":{"properties":{"items":{"items":{"$ref":"#/definitions/OrderCreateRequestItem","type":"object"},"type":"array"},"user":{"format":"int64","type":"string"}},"type":"object"},"v1OrderCreateResponse":{"properties":{"order_id":{"description":"Идентификатор заказа.","example":5,"format":"int64","type":"string"}},"type":"object"},"v1OrderInfoResponse":{"properties":{"order":{"$ref":"#/definitions/v1Order","description":"Идентификатор заказа.","example":5}},"type":"object"},"v1OrderItem":{"properties":{"count":{"description":"Количество единиц товара.","example":1,"format":"uint64","type":"string"},"sku":{"description":"Идентификатор товара.","example":2958025,"format":"int64","type":"string"}},"type":"object"},"v1OrderPayRequest":{"properties":{"order_id":{"description":"Идентификатор заказа.","example":5,"format":"int64","type":"string"}},"type":"object"},"v1StockInfoResponse":{"properties":{"count":{"description":"Количество единиц товара.","example":1,"format":"uint64","type":"string"}},"type":"object"}},"info":{"description":"Сервис отвечает за учет заказов и стоки по товарам.","title":"API учета заказов","version":"1.0.0"},"paths":{"/v1/order/cancel":{"post":{"description":"Отменяет заказ, снимает резерв со всех товаров в заказе..","operationId":"OrderCancel","parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/v1OrderCancelRequest"}}],"responses":{"200":{"description":"A successful response.","schema":{"properties":{},"type":"object"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"summary":"Отмена заказа","tags":["OrderAPI"]}},"/v1/order/create":{"post":{"description":"Создает новый заказ для пользователя из списка переданных товаров с резервированием нужного количества стоков.","operationId":"OrderCreate","parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/v1OrderCreateRequest"}}],"responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1OrderCreateResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"summary":"Создание заказа","tags":["OrderAPI"]}},"/v1/order/info/{order_id}":{"get":{"description":"Показывает информацию по заказу.","operationId":"OrderInfo","parameters":[{"description":"Идентификатор заказа.","format":"int64","in":"path","name":"order_id","required":true,"type":"string"}],"responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1OrderInfoResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"summary":"Информация о заказе","tags":["OrderAPI"]}},"/v1/order/pay":{"post":{"description":"Помечает заказ оплаченным. Зарезервированные товары должны перейти в статус купленных.","operationId":"OrderPay","parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/v1OrderPayRequest"}}],"responses":{"200":{"description":"A successful response.","schema":{"properties":{},"type":"object"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"summary":"Оплата заказа","tags":["OrderAPI"]}},"/v1/stock/info/{sku}":{"get":{"description":"Возвращает количество товаров, которые можно купить. Если товар был зарезервирован у кого-то в заказе и ждет оплаты, его купить нельзя.","operationId":"StocksInfo","parameters":[{"description":"Идентификатор товара.","format":"int64","in":"path","name":"sku","required":true,"type":"string"}],"responses":{"200":{"description":"A successful response.","schema":{"$ref":"#/definitions/v1StockInfoResponse"}},"default":{"description":"An unexpected error response.","schema":{"$ref":"#/definitions/rpcStatus"}}},"summary":"Остатки товаров","tags":["StockAPI"]}}},"produces":["application/json"],"schemes":["http","https"],"swagger":"2.0","tags":[{"name":"OrderAPI"}]}